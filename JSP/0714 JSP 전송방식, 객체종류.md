<aside>
ğŸ’¡ **ìš”ì•½**
â—† JSPë€?
â—† ì „ì†¡ë°©ì‹
     - Dispatcher
     - Redirect
â—† ê°ì²´ì¢…ë¥˜
     - Request
     - Session
     - ServletContext

</aside>

- **JSP**
    - **ì™œ ì“°ëŠ”ì§€?**
        - ì„œë¸”ë¦¿ì´ í™”ë©´ë‹¨ìœ¼ë¡œë¶€í„° ìš”ì²­ë°›ì€ ë°ì´í„°ë¥¼ ê°€ê³µí•˜ì—¬ ë‹¤ì‹œ ë‚´ë³´ë‚´ëŠ” ì¼ì„ í• ë•Œ **html**ë¡œ í˜•ì‹ì„ ë°”ê¿”ì¤˜ì•¼ í•¨
        - ë§¤ë²ˆ htmlí™” ì‹œì¼œì„œ ë‚´ë³´ëŠ”ê²Œ ë²ˆê±°ë¡­ê¸° ë•Œë¬¸ì— **ì„œë¸”ë¦¿ì—ì„œ jspì— ì „ì†¡**í•˜ê³ , **jspì—ì„œ í™”ë©´ë‹¨ì— í•„ìš”í•œ htmlí˜•ì‹ì„ ë§Œë“¤ê²Œ ë¨**
    - **ìš©ì–´ë¶„ì„**
        - <%@ page language="java" **contentType**="text/html; **charset**=EUC-KR"
        **pageEncoding**="EUC-KR"%>
            - **contentType**
                - JSPí˜ì´ì§€ê°€ **ìƒì„±**í•˜ëŠ” ë¬¸ì„œì˜ ì¢…ë¥˜ì™€ ê·¸ ë¬¸ì„œë¥¼ ì›¹ ë¸Œë¼ìš°ì €ë¡œ ì „ì†¡í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ì¸ì½”ë”© íƒ€ì…
            - **charset**
                - ìƒëµí•  ê²½ìš° ê¸°ë³¸ ìºë¦­í„°ì…‹ì¸ ISO-8859-1ì„ ì‚¬ìš©
            - **pageEncoding**
                - **í˜„ì¬ í˜ì´ì§€ì˜ ë¬¸ì** **ì¸ì½”ë”© ë°©ì‹**ì„ ì§€ì •í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì†ì„±
        - <script src="**<%=request.getContextPath()%>**/js/jquery-3.6.0.js"></script>
            - **<%=request.getContextPath()%>**
                - ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê²½ë¡œ ì •ë³´ë¥¼ ë°˜í™˜ (**webappì—ì„œë¶€í„° ì‹œì‘**)
- **Dispatcher**
    - ì„œë¸”ë¦¿ì—ì„œ jspë¡œ ì „ì†¡í•˜ëŠ” ë°©ë²• ì¤‘ í•˜ë‚˜
    - **Dispatcherë°©ì‹**
        - í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ìš”ì²­ ë°›ì€ Servlet í”„ë¡œê·¸ë¨ì´ ì‘ë‹µì„ í•˜ì§€ ì•Šê³  **ë‹¤ë¥¸ ì„œë¸”ë¦¿ì´ë‚˜ JSPí˜ì´ì§€ ë“±ì— ìš”ì²­ì„ ì „ë‹¬**í•œë‹¤(**ìš”ì²­ ì¬ì§€ì •**)
        - ì£¼ì†Œ í‘œì‹œì¤„ì˜ ì£¼ì†Œê°€ **ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤ (ì„œë¸”ë¦¿ ì£¼ì†Œì—ì„œ jspë¡œ ì•ˆë°”ë€œ)**
        - **request ì˜ì—­ì„ ê³µìœ í•˜ê¸° ë•Œë¬¸ì— jspí˜ì´ì§€ì—ì„œë„ ê°’ì— ì ‘ê·¼ì´ ê°€ëŠ¥**
    - **DIspatcherë¡œ ì „ì†¡ë°©ë²•**
        - RequestDispatcher dispatcher = **request.getRequestDispatcher**("dispatcher.jsp");
        **dispatcher.forward(request, response);**
    - **Dispatcherì—ì„œ ê°’ ë°›ëŠ” ë°©ë²•**
        - **<%= â€¦ %>**  â†’ ë‹¤ìŒ í‘œí˜„ì‹ì„ ì´ìš©í•´ì„œ ê°’ ë˜ëŠ” ìˆ˜ì‹ ë˜ëŠ” ë³€ìˆ˜ë¥¼ ì¶œë ¥í•  ìˆ˜ ìˆìŒ
    - **inpust.jsp**
        
        ```java
        <form action='DispatcherServlet' method="get">
        		<b>ì¢‹ì•„í•˜ëŠ” ìŒì‹ì€ ë¬´ì—‡ì¸ê°€ìš”</b><br>
        			<input type='text' name='food'>
        			<input type='submit' value='ì „ì†¡'>	
        </form>
        ```
        
    - **DispatcherServlet.java**
        
        ```java
        public void doGet (HttpServletRequest request,
        					   HttpServletResponse response) throws ServletException, IOException {
        		System.out.println("ìš”ì²­ë°©ì‹ : " + request.getMethod());
        		System.out.println("íŒŒë¼ë¯¸í„° foodì˜ ê°’ : " + request.getParameter("food"));
        		
        		RequestDispatcher dispatcher = request.getRequestDispatcher("dispatcher.jsp");
        		dispatcher.forward(request, response);
        	}
        ```
        
    - **dispatcher.jsp**
        
        ```java
        <div>
        	request íŒŒë¼ë¯¸í„° ê°’ : <%=request.getParameter("food") %>  //   requestê°€ ì‚´ì•„ìˆìŒ
        	</div>
        	<p>
        		ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€ ì£¼ì†Œì…ë‹ˆë‹¤. : <%=request.getRequestURL() %>  
        	</p>
        ```
        
- **Dispatcher-Attribute**
    - DIspatcherëŠ” requestê°€ jspì—ì„œë„ ê³„ì† ì‚´ì•„ìˆìŒì„ í™•ì¸í–ˆë‹¤
    - **setAttribute, getAttribute**ë¥¼ ì‚¬ìš©í•´ì„œ requestê°ì²´ì— ì†ì„±ì„ ì €ì¥í•˜ê³ , ê°’ì„ ë¶ˆëŸ¬ì™€ë³´ì
        - **request.setAttribute("food", food);**
        - **<%=request.getAttribute("food") %>**
    - **input.jsp**
        
        ```java
        <form action='DispatcherServlet' method="get">
        		<b>ì¢‹ì•„í•˜ëŠ” ìŒì‹ì€ ë¬´ì—‡ì¸ê°€ìš”</b><br>
        			<input type='text' name='food'>
        			<input type='submit' value='ì „ì†¡'>	
        	</form>
        ```
        
    - **DispatcherServlet.java**
        
        ```java
        public void doGet (HttpServletRequest request,
        					   HttpServletResponse response) throws ServletException, IOException {
        		System.out.println("ìš”ì²­ë°©ì‹ : " + request.getMethod());
        		System.out.println("íŒŒë¼ë¯¸í„° foodì˜ ê°’ : " + request.getParameter("food"));
        		String food = request.getParameter("food");
        		
        		request.setAttribute("food", food);
        		request.setAttribute("name", "jsp");
        
        		RequestDispatcher dispatcher = request.getRequestDispatcher("dispatcher2.jsp");
        		dispatcher.forward(request, response);
        	}
        ```
        
    - **dispatcher.jsp**
        
        ```java
        <div>
        	request ì†ì„± food ê°’ : <%=request.getAttribute("food") %><br>
        	request ì†ì„± name ê°’ : <%=request.getAttribute("name") %>
        </div>
        <p>
        	ìš”ì²­ì£¼ì†Œ <%=request.getRequestURL() %>  
        </p>
        ```
        
- **Redirect**
    - ì´ë™ë ë•Œ ë¸Œë¼ìš°ì €ì˜ ì£¼ì†Œ í‘œì‹œì¤„ì˜ **URLì´ ë³€ê²½**ë˜ë¯€ë¡œ **ìš”ì²­(request)ì´ ë°”ë€Œê²Œ ëœë‹¤**
        - Servletì£¼ì†Œê°€ ì•„ë‹Œ **jspë¡œ ë„˜ì–´ê°**
        - ì´ë™í•œ jspí˜ì´ì§€ì—ì„œëŠ” ì„œë¸”ë¦¿ì—ì„œ **requestì˜ì—­ì˜ ì†ì„± ê°’ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤**
        - ë”°ë¼ì„œ, ì†ì„±ê°’ì´ **null**ì´ ë¨
    - **Dispatcher VS Redirect**
        - DispatcherëŠ” ê°’ì„ ë°›ì•„ì„œ ë¿Œë ¤ì£¼ëŠ” ì‘ì—…ì— ì“°ì„. RedirectëŠ” ë°˜ëŒ€ì˜ ì‘ì—…ì— ì“°ì„
    - **Redirect ì „ì†¡ ë°©ì‹**
        - **response.sendRedirect("redirect.jsp");**  â†’  redirect.jspìª½ìœ¼ë¡œ ì „ì†¡
    - **input.jsp**
        
        ```java
        <form action='RedirectSerclet'>
        		<b>ì¢‹ì•„í•˜ëŠ” ìŒì‹ì€ ë¬´ì—‡ì¸ê°€ìš”</b><br>
        			<input type='text' name='food'>
        			<input type='submit' value='ì „ì†¡'>	
        </form>
        ```
        
    - **RedirectServlet**
        
        ```java
        public void doGet (HttpServletRequest request,
        					   HttpServletResponse response) throws ServletException, IOException {
        
        		response.sendRedirect("redirect.jsp");
        }
        ```
        
    - **redirect.jsp**
        
        ```java
        <div>
        	request íŒŒë¼ë¯¸í„° foodê°’ : <%=request.getParameter("food") %>
        </div>
        ```
        
- **Session**
    - Requsetê°ì²´ì™€ ë‹¤ë¥´ê²Œ **Session**ì€ **ë¸Œë¼ìš°ì €**ì™€ ê´€ë ¨ë˜ì–´ìˆë‹¤ (ë¸Œë¼ìš°ì € ë‹«ìœ¼ë©´ ê¸°ëŠ¥ ì—†ì–´ì§)
    - ë”°ë¼ì„œ, **Redirect(ì£¼ì†Œê°’ì´ jspë¡œ ë°”ë€ŒëŠ” ì „ì†¡ë°©ë²•)ìœ¼ë¡œ ì „ì†¡ë˜ì–´ë„** sessionì€ **ì†ì„±ê°’ì´ ì‚´ì•„ìˆë‹¤**
    - **Request**ëŠ” í•´ë‹¹ ì£¼ì†Œê°’ê³¼ ê´€ë ¨ì´ ë˜ì–´ìˆìŒ (**Redirect**ê°€ ì£¼ì†Œë¥¼ ë°”ë€ŒëŠ” ì‘ì—…)
    - **Session ì‘ì„± ë°©ë²•**
        - **HttpSession session = request.getSession();**  // ì„¸ì…˜ ê°ì²´ë¥¼ ê°€ì ¸ì˜´
        **request.setAttribute("food", value);**
        - **<%=request.getAttribute("food") %>**
- **ServletContext**
    - **ServletContext**ëŠ” **ì›¹ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì„œë¹„ìŠ¤**ë˜ê³  ìˆëŠ” ë™ì•ˆ ìœ ì§€í•˜ëŠ” ê²ƒì„ ì˜ë¯¸ (ì„œë¹„ìŠ¤ ì¢…ë£Œí• ë•Œ ê°™ì´ ì†Œë©¸)
    - ë”°ë¼ì„œ, **Redirect(ì£¼ì†Œê°’ì´ jspë¡œ ë°”ë€ŒëŠ” ì „ì†¡ë°©ë²•)ìœ¼ë¡œ ì „ì†¡ë˜ì–´ë„** ServletContextì€ **ì†ì„±ê°’ì´ ì‚´ì•„ìˆë‹¤**
    - **ServletContext ì‘ì„±ë°©ë²•**
        - **ServletContext sc = request.getSession().getServletContext();
        sc.setAttribute("food", value);**
        - **<%=application.getAttribute("food") %>**
- **ìƒíƒœ ì •ë³´ ìœ ì§€**
    - **javax.servlet.http.HttpServletRequest**
        - í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° **ìš”ì²­ì´ ìˆì„ ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ì—°ê²° ì‘ì—…**ì´ ì´ë£¨ì–´ì§€ë©°, í´ë¼ì´ì–¸íŠ¸ë¡œ ì‘ë‹µì´ ì´ë£¨ì–´ì§€ë©´ ì—°ê²°ì€ ë°”ë¡œ í•´ì œë©ë‹ˆë‹¤
        - í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ìš”ì²­ì´ ë“¤ì–´ì˜¤ê³  ì‘ë‹µì´ ë‚˜ê°€ê¸°ê¹Œì§€ê°€ **í•˜ë‚˜ì˜ ìš”ì²­**
    - **javax.servlet.http.HttpSession**
        - í´ë¼ì´ì–¸íŠ¸ê°€ ê³„ì†í•´ì„œ ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” ìƒíƒœ ì •ë³´ê°€ ìˆëŠ”ë° ì´ ìƒíƒœ ì •ë³´ë¥¼ ë‹¤**ë¥¸ í´ë¼ì´ì–¸íŠ¸ëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ì–´ì•¼ í•  ë•Œ** ì“°ì„
        - **ë¡œê·¸ì¸** ì‘ì—…ì— ì£¼ë¡œ ì“°ì¸ë‹¤
    - **javax.servlet.ServletContext**
        - ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆê°€ ì‹œì‘ë  ë•Œ ì›¹ ì„œë²„ì— ë“±ë¡ëœ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‹¨ìœ„ë¡œ í•˜ë‚˜ì˜ ServletContext ê°ì²´ê°€ ìë™ìœ¼ë¡œ ìƒì„±
        - ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì— ìˆëŠ” ëª¨ë“  ì„œë¸”ë¦¿ ê·¸ë¦¬ê³  JSP ê°„ì— ì •ë³´ë¥¼ ê³µìœ í•  ìˆ˜ ìˆê³ ,
        ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆì— ëŒ€í•œ ì •ë³´ë¥¼ ì¶”ì¶œí•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ê¸°ìˆ 
