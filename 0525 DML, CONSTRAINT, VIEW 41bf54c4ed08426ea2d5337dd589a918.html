<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>0525 / DML, CONSTRAINT, VIEW</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-opaquegray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="41bf54c4-ed08-426e-a2d5-337dd589a918" class="page sans"><header><h1 class="page-title">0525 / DML, CONSTRAINT, VIEW</h1></header><div class="page-body"><h1 id="16a562fe-653a-44ca-ae00-61e9ced9fe4d" class="">과제 리뷰</h1><ul id="6986cd99-6f0d-41e1-8be4-2cbd96b0e74e" class="bulleted-list"><li style="list-style-type:disc">from 절에 서브쿼리 쓰기 (4번) → 만들어진 테이블을 불러와서 select<p id="1892b096-351a-43b4-bba8-7f096c070953" class="">select *
f<strong>rom (select name, kor, eng, mat, kor+eng+mat &quot;총점&quot;, round((kor+eng+mat)/3) &quot;평균&quot;, rank() over(order by (kor+eng+mat)desc) &quot;등수&quot; from jumsu)</strong>
where 등수 = 2;</p></li></ul><ul id="a2e71f14-10ec-457d-bb31-bae576713aea" class="bulleted-list"><li style="list-style-type:disc">union 활용하기 (7번) → 행으로 정렬해서 하나의 테이블을 만들때 쓰임<p id="651a6213-3153-4f76-962f-64e1017f81bf" class="">select &#x27;국어&#x27; 과목, max(kor) 점수 from jumsu
<strong>union
</strong>select &#x27;수학&#x27; 과목, max(mat) 점수 from jumsu
<strong>union</strong>
select &#x27;영어&#x27; 과목, max(eng) 점수 from jumsu;</p></li></ul><ul id="b859c7b9-f753-4083-bc7d-d0b767f8b735" class="bulleted-list"><li style="list-style-type:disc">from 절에 서브쿼리 쓰기 (8번) → 테이블에 이름을 붙여줌 (VIEW개념과 비슷)<p id="5489ca08-aff1-4f7e-a2e8-d4594d99493b" class=""><strong>with B</strong>
as (select &#x27;국어&#x27; 과목, max(kor) 점수 from jumsu
union
select &#x27;수학&#x27; 과목, max(mat) 점수 from jumsu
union
select &#x27;영어&#x27; 과목, max(eng) 점수 from jumsu)</p><p id="682336c6-0c67-4752-a77f-2a576e9aea12" class="">
select 과목, 점수
from <strong>B</strong>
where 점수 = (select max(점수)
from <strong>B</strong>);</p></li></ul><ul id="89eecdbb-0b1b-4a84-8b7b-f4acc1661f51" class="bulleted-list"><li style="list-style-type:disc">껍데기만 만들고 안에 채우기 (9번)<p id="386fc6f1-33b0-4f57-9227-bbf8fa8fe858" class="">create table jumsu2
as
select * from jumsu
<strong>where 1=0;</strong></p><p id="0773caf3-d7c9-48ec-bdbb-c822cf5c9991" class="">insert into jumsu2
values(&#x27;홍길동&#x27;,100,100,100);</p><p id="10b1f240-5052-4868-ad24-431de774a880" class="">insert into jumsu2
values(&#x27;박혜영&#x27;,100,100,100);</p></li></ul><h1 id="348ce265-2db7-4c55-8339-5570c7bfa0a3" class="">DML</h1><ul id="e1c054db-010c-4b99-b330-d90527630460" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>MERGE</strong></mark><ul id="502115a9-50a1-423c-8995-6cf896d27d89" class="bulleted-list"><li style="list-style-type:circle">구조가 같은 두개의 테이블을 하나의 테이블로 합치는 기능</li></ul><ul id="46c39075-fafe-443d-852b-a84a17891806" class="bulleted-list"><li style="list-style-type:circle"></li></ul><ul id="4783ed99-0acd-4079-81da-11d8a99891cf" class="bulleted-list"><li style="list-style-type:circle">EMP01 테이블에 EMP02 테이블을 합병
<mark class="highlight-yellow_background"><strong>MERGE INTO</strong></mark> EMP01
<mark class="highlight-yellow_background"><strong>USING </strong></mark>EMP02
<mark class="highlight-yellow_background"><strong>ON</strong></mark><mark class="highlight-yellow_background">(</mark>EMP01.EMPNO=EMP02. EMPNO)
<mark class="highlight-yellow_background"><strong>WHEN MATCHED THEN
UPDATE SET</strong></mark><mark class="highlight-yellow_background">
</mark>  EMP01.ENAME=EMP02.ENAME,
  EMP01.JOB=EMP02.JOB,
  EMP01.MGR=EMP02.MGR,
  EMP01.HIREDATE=EMP02.HIREDATE,
  EMP01.SAL=EMP02.SAL,
  EMP01.COMM=EMP02.COMM,
  EMP01.DEPTNO=EMP02.DEPTNO
<mark class="highlight-yellow_background"><strong>WHEN NOT MATCHED THEN
INSERT VALUES</strong></mark>(
  EMP02.EMPNO, EMP02.ENAME, EMP02.JOB,
  EMP02.MGR, EMP02.HIREDATE, EMP02.SAL,
  EMP02.COMM, EMP02.DEPTNO);</li></ul></li></ul><ul id="8be1ee76-3e80-4657-8aac-8c80752433e0" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>TRANSACTION </strong></mark><ul id="cfb5c3f9-1ca8-4f3a-be27-6dcbcf0b49bf" class="bulleted-list"><li style="list-style-type:circle"><strong>Transaction </strong><ul id="c0e491ac-89b8-4947-8219-1baf43aaa908" class="bulleted-list"><li style="list-style-type:square">데이터 처리의 한단위</li></ul><ul id="04e7f9a6-af37-4c42-a088-dd456775a696" class="bulleted-list"><li style="list-style-type:square">여러개의 SQL 명령문들을 하나의 <strong>논리적인 작업 단위</strong>로 처리</li></ul><ul id="be40242c-5f55-4a89-b2ce-58f1b3586f98" class="bulleted-list"><li style="list-style-type:square">하나의 트랜잭션은 <strong>ALL-OR-Nothing</strong></li></ul><ul id="1fe3d801-d273-4ab1-ac3f-5dfbb214edc5" class="bulleted-list"><li style="list-style-type:square">트랜잭션 제어를 위한 명령어는 COMMIT, SAVEPOINT, ROLLBACK이 있다</li></ul></li></ul><ul id="eef670a3-5e3d-4112-8c4f-219b10a16071" class="bulleted-list"><li style="list-style-type:circle"><strong><mark class="highlight-blue">COMMIT</mark></strong><ul id="1b744317-3bee-4d51-8d02-98130aa3659f" class="bulleted-list"><li style="list-style-type:square">DML 작업이 성공적으로 처리되도록 하기 위해 쓰임 (하드에 저장)</li></ul><ul id="e2dc3c3b-8155-44ca-8b6f-ee3d34689061" class="bulleted-list"><li style="list-style-type:square">자동 commit 하는 경우<ul id="58a8ea60-2eda-48ed-a070-e39c5a89bb8d" class="bulleted-list"><li style="list-style-type:disc">DDL <strong>: CREATE, ALTER, DROP, RENAME, TRUNCATE</strong></li></ul><ul id="4868518e-bb0d-4cbf-9dc6-25151886a695" class="bulleted-list"><li style="list-style-type:disc">DCL : <strong>GRANT, REVOKE</strong></li></ul></li></ul></li></ul><ul id="5f470af7-9667-4736-92e5-6a04792f755a" class="bulleted-list"><li style="list-style-type:circle"><strong><mark class="highlight-blue">ROLLBACK</mark></strong><ul id="d47cc01c-1532-4212-a528-0d9325099a28" class="bulleted-list"><li style="list-style-type:square">작업을 취소하기 위해 쓰임</li></ul></li></ul><ul id="ace5ea80-855f-469a-919b-c017004911ab" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>SAVEPOINT</strong></mark><ul id="4ff048b0-544c-44e5-b3a1-7cab7d355844" class="bulleted-list"><li style="list-style-type:square">트랜잭션을 작게 분할할 수 있음</li></ul><ul id="0b09eff8-b3c5-41dd-8316-ffb74e928103" class="bulleted-list"><li style="list-style-type:square">savepoint 불러올때 : <mark class="highlight-yellow_background"><strong>rollback to save point</strong></mark></li></ul><ul id="ec01a1ff-848d-43a9-942e-edfb3f3e892a" class="bulleted-list"><li style="list-style-type:square">여러 savepoint가 있는데 특정 지정 없이 rollback 한다면 가장 맨앞 savepoint로 이동</li></ul></li></ul></li></ul><ul id="18744c5e-1d5b-412e-9baa-829ec5990535" class="bulleted-list"><li style="list-style-type:disc">데이터 읽기 일관성과 락<ul id="f4e175ab-27cb-4eff-b2f5-b2c48c93512e" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>LOCK</strong></mark><ul id="ad0fa267-fd67-44a9-9d9a-11a177c78f80" class="bulleted-list"><li style="list-style-type:square">파일이나 레코드를 누군가가 열어서 작업하고 있는 도중에 <strong>다른 사용자가 이를 열지 못하도록</strong> 하고 먼저 오픈한 사용자가 닫기 전까지 사용할 수 없도록 하는 것</li></ul></li></ul><ul id="252dc458-5931-4b46-b833-882a18c33562" class="bulleted-list"><li style="list-style-type:circle"><strong><mark class="highlight-blue">DEAD LOCK (교착상태)</mark></strong><ul id="df7fcb04-505c-4062-bf0d-d8050065ccd9" class="bulleted-list"><li style="list-style-type:square">양쪽이 lock이 걸린 상태</li></ul></li></ul></li></ul><h1 id="98a28215-b656-4084-acdb-d19778fffc99" class="">CONSTRAINT</h1><ul id="3e88bfd9-ea57-4c7e-8132-22e50c423cd6" class="bulleted-list"><li style="list-style-type:disc">무결성 제약 조건</li></ul><table id="cf91cf91-3bb9-4634-a33e-c80f89627396" class="simple-table"><tbody><tr id="e4875800-3bda-4c04-811a-2147975b0b04"><td id="ws&gt;G" class=""><strong>NOT NULL </strong></td><td id="AqqM" class="" style="width:495px">NULL을 허용하지 않는다.</td></tr><tr id="f50ee202-f728-441b-8080-89e0c5fa3330"><td id="ws&gt;G" class=""><strong>UNIQUE </strong></td><td id="AqqM" class="" style="width:495px"><strong>중복된 값을 허용하지 않는다. </strong>항상 유일한 값을 갖도록 한다, <strong>NULL 가능</strong></td></tr><tr id="49fa08c5-d6ae-48c8-a16f-f59b0ea2f7e4"><td id="ws&gt;G" class=""><strong>PRIMARY KEY
</strong></td><td id="AqqM" class="" style="width:495px">NULL을 허용하지 않고 <strong>중복된 값을 허용하지 않는다.</strong>
<strong>NOT NULL</strong> 조건과 UNIQUE 조건을 결합한 형태이다.</td></tr><tr id="1a229f04-bcc1-4549-b393-7bb18040ed60"><td id="ws&gt;G" class=""><strong>FOREIGN KEY </strong></td><td id="AqqM" class="" style="width:495px">참조되는 테이블의 칼럼의 값이 존재하면 허용한다.</td></tr><tr id="7ad68dba-9167-4096-b5e7-c4e76512981c"><td id="ws&gt;G" class=""><strong>CHECK</strong></td><td id="AqqM" class="" style="width:495px">저장 가능한 데이터 값의 범위나 조건을 지정하여 설정한 값만 을 허용한다.</td></tr></tbody></table><ul id="3475498f-fb6b-4f59-85e4-81b4d599ff72" class="bulleted-list"><li style="list-style-type:disc">제약조건 살피기<ul id="5c1cbd34-bf9a-4755-93ae-3c086d404f51" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>user_constraints</strong></mark> 테이블<ul id="964e71c1-d456-40e9-b592-a12e73a7732a" class="bulleted-list"><li style="list-style-type:square">select constraint_name, constraint_type, table_name from <strong>user_constraints</strong>;</li></ul><ul id="d95394d6-2042-4ca7-bb87-fccd71d80328" class="bulleted-list"><li style="list-style-type:square">constraint_type<table id="f88e4d39-1988-4bd1-a74b-94fa11fc9aa0" class="simple-table"><tbody><tr id="0268c79b-de6f-4f36-9122-41787c535e56"><td id="iJK~" class="">P</td><td id="o=ev" class="" style="width:327px">PRIMARY KEY</td></tr><tr id="be2ed573-8f06-4c65-8f38-ebc29a5b09e7"><td id="iJK~" class="">R</td><td id="o=ev" class="" style="width:327px">FOREIGN KEY</td></tr><tr id="30537f2d-6f3b-4561-8e31-f9886044b38d"><td id="iJK~" class="">U</td><td id="o=ev" class="" style="width:327px">UNIQUE</td></tr><tr id="962c2128-b691-4345-99cd-5d6b4758b27b"><td id="iJK~" class="">C</td><td id="o=ev" class="" style="width:327px">CHECK, NOT NULL</td></tr></tbody></table></li></ul></li></ul><ul id="3d06b45d-8419-45e8-8b4f-253e342232b6" class="bulleted-list"><li style="list-style-type:circle"><strong><mark class="highlight-blue">user_cons_columns;</mark></strong><ul id="67fc9b39-f259-4be1-a04e-1fb3229f8694" class="bulleted-list"><li style="list-style-type:square">select * from <strong>user_cons_columns;</strong></li></ul></li></ul></li></ul><ul id="c278ce6d-38eb-4163-bc06-b7d9cf00c3fe" class="bulleted-list"><li style="list-style-type:disc"><strong>컬럼 레벨</strong> 정의 방법<ul id="04f3c026-136f-4368-bc19-efe0b064d480" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>UNIQUE KEY</strong></mark><ul id="f75e3d46-df4d-4c6c-83e6-caf8de7315c2" class="bulleted-list"><li style="list-style-type:square"><strong>NULL값을 중복</strong>으로 저장할 수 있다</li></ul><ul id="e28b7033-8077-47a1-b259-bc3a52eb23fc" class="bulleted-list"><li style="list-style-type:square">CREATE TABLE EMP03(
EMPNO NUMBER(4)<p id="6993b8b6-4a90-47bb-8316-f39c964deddc" class="">   <strong><mark class="highlight-yellow_background">CONSTRAINT </mark></strong>EMP03_EMPNO_UK <strong><mark class="highlight-yellow_background">UNIQUE </mark></strong>);</p></li></ul></li></ul><ul id="d682c371-975f-4ddb-8337-24a11c10db2f" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>PRIMARY KEY</strong></mark><ul id="61276fc5-3505-4298-a523-616657fb515a" class="bulleted-list"><li style="list-style-type:square">CREATE TABLE EMP050 (
EMPNO NUMBER(4) <p id="8477b6a7-c6a4-43de-a86c-2621c863b986" class="">   <mark class="highlight-yellow_background"><strong>CONSTRAINT </strong></mark><strong>EMP05_EMPNO_PK</strong><mark class="highlight-yellow_background"><strong> PRIMARY KEY );</strong></mark></p></li></ul></li></ul><ul id="a44426aa-34a5-4aa2-b4ed-67b882b0342f" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>FOREIGN KEY</strong></mark><ul id="f36f172c-516f-4b1c-b5d7-43d41c5af238" class="bulleted-list"><li style="list-style-type:square">반드시 <strong>부모 테이블에 존재하는 column만 </strong>입력하도록 참조하는 방법</li></ul><ul id="6a5dc297-9e89-4cdb-887d-92dcae454959" class="bulleted-list"><li style="list-style-type:square"><strong>먼저 </strong>정의되어야 하는 테이블이<strong> 부모 테이블</strong>이고 나중에 정의되어야 하는 테이블이 자식 테이블이 된다</li></ul><ul id="123120b8-98c7-4235-9494-192933b0c334" class="bulleted-list"><li style="list-style-type:square">부모 키가 되기 위한 칼럼은 반드시 부모 테이블의<strong> 기본키(PRIMARY KEY)</strong>나<strong> 유일키(UNIQUE)</strong>로 설정되어 있어야 한다</li></ul><ul id="660dd768-d46b-4776-b97e-e29dad13d3a9" class="bulleted-list"><li style="list-style-type:square">CREATE TABLE EMP06 (
DEPTNO NUMBER(2)
<strong>   </strong><mark class="highlight-yellow_background"><strong>CONSTRAINT </strong></mark><strong>EMP06_DEPTNO_FK </strong><mark class="highlight-yellow_background"><strong>REFERENCES </strong></mark><strong>DEPT(DEPTNO) );</strong></li></ul></li></ul><ul id="9c853681-cef2-47fa-9669-b800eb1ecdd2" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>CHECK</strong></mark><ul id="8fe1196a-4654-4811-9134-14d6c2b9fe81" class="bulleted-list"><li style="list-style-type:square">설정된 값 이외의 값이 들어오면 오류 수행</li></ul><ul id="a3dc7472-2a4b-4a6b-b635-ca6609d31a2c" class="bulleted-list"><li style="list-style-type:square">CREATE TABLE EMP07(
GENDER VARCHAR2(1)
<strong>   </strong><mark class="highlight-yellow_background"><strong>CONSTRAINT </strong></mark><strong>EMP07_GENDER_CK
  </strong><mark class="highlight-yellow_background"><strong> CHECK (GENDER IN(&#x27;M&#x27;, &#x27;F&#x27;)) );</strong></mark></li></ul></li></ul><ul id="389e6a25-50ee-4791-aaf9-780ce57fbc51" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-blue"><strong>DEFAULT</strong></mark><ul id="41b42edb-a95d-4d29-9b91-1965c8db0c1e" class="bulleted-list"><li style="list-style-type:square">아무런 값도 입력 안했을때 디폴트값으로 입력</li></ul></li></ul></li></ul><ul id="f4d31ec6-c99f-4216-a527-97afa356a36f" class="bulleted-list"><li style="list-style-type:disc"><strong>테이블 레벨 </strong>정의<ul id="9fe319a4-30ab-4c5c-9207-cb38d6498012" class="bulleted-list"><li style="list-style-type:circle">CREATE TABLE EMP03(
   EMPNO NUMBER(4),
   ENAME VARCHAR2(10) <mark class="highlight-yellow_background"><strong>CONSTRAINT </strong></mark>EMP03_ENAME_NN <strong><mark class="highlight-yellow_background">NOT NULL,</mark></strong>
   JOB VARCHAR2(9),
   DEPTNO NUMBER(4),
   <mark class="highlight-yellow_background"><strong>CONSTRAINT </strong></mark>EMP03_EMPNO_PK <strong><mark class="highlight-yellow_background">PRIMARY KEY(</mark></strong>EMPNO),
   <mark class="highlight-yellow_background"><strong>CONSTRAINT </strong></mark>EMP03_JOB_UK <strong><mark class="highlight-yellow_background">UNIQUE</mark></strong>(JOB),
   <mark class="highlight-yellow_background"><strong>CONSTRAINT </strong></mark>EMP03_DEPTNO_FK <strong><mark class="highlight-yellow_background">FOREIGN KEY</mark></strong>(DEPTNO)
   <strong><mark class="highlight-yellow_background">REFERENCES DEPT</mark></strong>(DEPTNO)
);<ul id="b301de88-f5f9-4e2d-bc61-04c1d8ed3940" class="bulleted-list"><li style="list-style-type:square">NOT NULL은 <strong>테이블 레벨 정의로 지정할 수 없음</strong></li></ul></li></ul><ul id="6f618a8e-d6ab-4fa1-8d4e-a2525bcb4147" class="bulleted-list"><li style="list-style-type:circle"><strong>복합키</strong>를 <strong>기본키</strong>로 지정<ul id="daeb61e3-69fb-4c72-a3b1-dd1a098926b2" class="bulleted-list"><li style="list-style-type:square">CREATE TABLE MEMBER01(</li></ul><p id="bd4639ab-3c0b-4ee2-9a0a-b59ae73abdc2" class="">  CONSTRAINT MEMBER01_COMBO_PK<strong> </strong><mark class="highlight-yellow_background"><strong>PRIMARY KEY(NAME, HPHONE)</strong></mark><mark class="highlight-yellow_background">
</mark>);</p><ul id="d8d22014-60e7-4032-975d-5ee224644a25" class="bulleted-list"><li style="list-style-type:square">POSITION 1,2,3… 으로 나타남</li></ul></li></ul></li></ul><ul id="80c8ece0-9752-4595-bb9b-bb844b28b769" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>ON DELETE CASCADE</strong></mark><ul id="f4d002ee-2090-4611-8c6b-72bdcfd42649" class="bulleted-list"><li style="list-style-type:circle">부모키를 삭제 → 자식 테이블의 참조 컬럼도 삭제됨 <strong>(NULL값으로 채워짐)</strong></li></ul><ul id="2ac85f7a-0e3b-4070-b41d-2cdd937e9131" class="bulleted-list"><li style="list-style-type:circle">on delete cascade 없이 부모키 삭제하려고 하면 오류뜸</li></ul><ul id="6fa61fcb-44c5-499d-b09c-74923944d605" class="bulleted-list"><li style="list-style-type:circle">CREATE TABLE CHILD2(
  <strong>CONSTRAINT </strong>CHILD2_ID_FK <strong>FOREIGN KEY</strong>(C_ID)
  <strong>REFERENCES </strong>PARENT2(P_ID) <mark class="highlight-yellow_background"><strong>ON DELETE CASCADE</strong></mark> );</li></ul></li></ul><h1 id="8a57cd7a-c107-41ec-b486-0fec72acaea5" class="">VIEW</h1><ul id="756cf5ec-39c3-43ce-aefa-14d00f59341b" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-blue"><strong>VIEW</strong></mark><ul id="9ffa20a9-f074-409a-b50f-bbb753f02ea1" class="bulleted-list"><li style="list-style-type:circle"><strong>물리적인 테이블 (기본 테이블)</strong>을 근거한 논리적인 <strong>가상테이블</strong></li></ul><ul id="859da67a-3053-4052-ac0c-8d61578f7ce5" class="bulleted-list"><li style="list-style-type:circle">view도 만들 수 있는 권한이 필요함 (Grant create view to scott)</li></ul><ul id="dabf42f6-c4fb-490d-b22f-bf5677885c28" class="bulleted-list"><li style="list-style-type:circle">insert문에 의해 <strong>view</strong>에 추가한 행이 <strong>테이블에도 추가</strong>된다</li></ul><ul id="38320396-55de-454c-ad1b-95bf37517a8a" class="bulleted-list"><li style="list-style-type:circle">쓰는 이유? 제한적으로 정보를 조회할 수 있도록 해야하기 때문이다</li></ul><ul id="a6497d8b-b1e4-4b83-9bf4-b2c9889adedf" class="bulleted-list"><li style="list-style-type:circle"><strong>USER_VIEWS</strong>를 조회하면 지금까지 생성한 뷰를 확인할 수 있다</li></ul><ul id="e6ab485e-d15e-478f-9af6-0235d40f45fd" class="bulleted-list"><li style="list-style-type:circle">생성<ul id="4a4498bf-02b7-4544-8ad5-cd1ae2ed0246" class="bulleted-list"><li style="list-style-type:square"><mark class="highlight-yellow_background"><strong>create view </strong></mark>sal_view
<strong><mark class="highlight-yellow_background">as</mark></strong>
select dname, max(sal) &quot;MAX_SAL&quot;, min(sal) &quot;MIN_SAL&quot;
from emp,dept
where emp.deptno = dept.deptno
group by dname;</li></ul></li></ul><ul id="5104335a-e631-4b59-9429-508c1f1725c3" class="bulleted-list"><li style="list-style-type:circle">수정<ul id="7cb3fe8f-e65c-462f-9cd8-4dd6e7e540d0" class="bulleted-list"><li style="list-style-type:square"><strong><mark class="highlight-yellow_background">create or replace </mark></strong>view emp_view20
<strong><mark class="highlight-yellow_background">as</mark></strong>
select empno EMP_NO, ename EMP_NAME, deptno DEPT_NO, mgr MANAGER, sal SAL
from emp
where deptno=20;</li></ul></li></ul><p id="92d24071-4c2d-4662-a8e3-e3f98119adad" class="">
</p></li></ul><p id="3749fd5b-7da8-4bd7-87b3-eec2502a344c" class="">
</p><p id="5c3cb2a2-e830-4d36-9fd4-ddcc1d68195e" class="">
</p><p id="0c44412c-d274-4700-baad-540da5e46b67" class="">
</p><p id="051cbd2f-6932-4873-a0f7-1ec622d644fb" class="">
</p><p id="cc61ee0d-e94f-4105-903a-6b6e468f843e" class="">
</p><p id="5d3a42ff-caa3-45a4-acf0-aeacaee3f9bb" class="">
</p><p id="8f2c77cc-9c62-4e8c-b4a6-cd4d4615c904" class="">
</p><p id="c897d8c5-78c2-4553-8327-dee2089b9015" class="">
</p><p id="1129d503-771c-480d-9b7a-ab3799a24ed4" class="">
</p><p id="1cdcb08a-b0ba-47ff-94a5-82d15ba66f06" class="">
</p><p id="a90f9e05-cc3a-45d0-b5f0-7a1d046f2eb7" class="">
</p><p id="6c92fe45-5361-4e77-b9b4-e0febbb60ebb" class="">
</p><ul id="39772e9e-d1ae-4509-af24-19c8843fec26" class="bulleted-list"><li style="list-style-type:disc">insert into dept
values(10,&#x27;TEST&#x27;,&#x27;SEOUL&#x27;)</li></ul><ul id="17f5e005-41a9-4930-96ac-a4b5d33dddd8" class="bulleted-list"><li style="list-style-type:disc">ORA-00001: unique constraint (SCOTT.PK_DEPT) violated →PK_DEPT (제약조건 이름)<ul id="7217a446-f779-4fae-a707-f4184be53f52" class="bulleted-list"><li style="list-style-type:circle">dept는 primary key라서 중복 X, null X</li></ul><p id="bbcbdcc9-c91e-47f2-b1e2-4d93832af89c" class="">
</p></li></ul><ul id="eb55763b-5fdf-4c3d-bee6-55ea3d81811f" class="bulleted-list"><li style="list-style-type:disc">ORA-01400: cannot insert NULL into (&quot;SCOTT&quot;.&quot;EMP02&quot;.&quot;EMPNO&quot;)<ul id="0926a9d1-04f6-4a35-85b9-0faf48549732" class="bulleted-list"><li style="list-style-type:circle">SCOTT이라는 owner, EMP02라는 테이블, EMPNO라는 컬럼</li></ul></li></ul><ul id="246b13f6-07c5-4fdc-bfa2-987a63ace68c" class="bulleted-list"><li style="list-style-type:disc">ORA-00001: unique constraint (SCOTT.SYS_C007194) violated<ul id="b8c2a44b-ab88-4afc-ba25-4f43c34280de" class="bulleted-list"><li style="list-style-type:circle">이름을 정해주지 않아서 이렇게 뜸 (unique)</li></ul></li></ul><ul id="79cd57b4-e2bc-4c75-9009-128ecb52cd49" class="bulleted-list"><li style="list-style-type:disc">ORA-01756: quoted string not properly terminated<ul id="9005c40a-9498-4274-8ea0-89ee4a40f295" class="bulleted-list"><li style="list-style-type:circle">null이나 중복된 값이 나와서 (primary)</li></ul></li></ul><ul id="7e7b2e91-143f-4b49-986e-fb47fa2d6623" class="bulleted-list"><li style="list-style-type:disc">ORA-02291: integrity constraint (SCOTT.EMP06_DEPTNO_FK) violated - parent key not found<ul id="f1cb4889-8cb6-4457-9c4f-a01a94d27ec3" class="bulleted-list"><li style="list-style-type:circle">부모키에 해당되는게 없을때 (foreign)</li></ul></li></ul><ul id="f2a43a77-ce93-4da3-9b02-554ff65fead5" class="bulleted-list"><li style="list-style-type:disc">ORA-01031: insufficient privileges<ul id="04f17f60-6dc2-400e-a17c-496372d521c9" class="bulleted-list"><li style="list-style-type:circle">권한이 없다 → </li></ul></li></ul><p id="21056982-637d-4eb0-b404-5f6fd45562a3" class="">
</p></div></article></body></html>