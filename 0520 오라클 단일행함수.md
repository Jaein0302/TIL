# ë‹¨ì¼í–‰ í•¨ìˆ˜

- ë‚ ì§œ í•¨ìˆ˜
    - **TO_CHAR (**ë¬¸ìí˜•ìœ¼ë¡œ ë³€í™˜)
        - select **to_char(sysdate,'YYYY"ë…„"MM"ì›”"DD"ì¼" DAY AM HH:MI:SS')** from dual
        
        | AM ë˜ëŠ” PM | ì˜¤ì „(AM), ì˜¤í›„(PM) ì‹œê° í‘œì‹œ |
        | --- | --- |
        | HHë˜ëŠ” HH12 | ì‹œê°„(1~12) |
        | HH24 | 24ì‹œê°„ìœ¼ë¡œ í‘œí˜„(0~23) |
        | MI | ë¶„ í‘œí˜„ |
        | SS | ì´ˆí‘œí˜„ |
        - select  **to_char** (sal, **â€˜L999,999â€™**) from emp;
        
        | 0 | ìë¦¿ìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ë©° ìë¦¿ìˆ˜ê°€ ë§ì§€ ì•Šì„ ê²½ìš° 0ìœ¼ë¡œ ì±„ìš´ë‹¤. |
        | --- | --- |
        | 9 | ìë¦¿ìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ë©° ìë¦¿ìˆ˜ê°€ ë§ì§€ ì•Šì•„ë„ ì±„ìš°ì§€ ì•ŠëŠ”ë‹¤. |
        | L | ê° ì§€ì—­ë³„ í†µí™” ê¸°í˜¸ë¥¼ ì•ì— í‘œì‹œí•œë‹¤. |
        | . | ì†Œìˆ˜ì  |
        | , | ì²œ ë‹¨ìœ„ ìë¦¬ êµ¬ë¶„ |
    - **TO_DATE** (ë‚ ì§œí˜•ìœ¼ë¡œ ë³€í™˜)
        - select ename, hiredate from emp where hiredate = **to_date(19900302,â€™YYYYMMDDâ€™);**
    - **TO_NUMBER** (ìˆ«ìí˜•ìœ¼ë¡œ ë³€í™˜)
        - select **to_number(â€™20000â€™)** from dual;
- ì¼ë°˜ í•¨ìˆ˜
    - **NVL** (NULLì„ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ë³€í™˜)
        - select **(comm,0)** from emp
        - select empno, ename, **nvl(to_char(mgr),'CEO')** as "MANAGER" from emp where mgr is null; â†’ mgrì˜ íƒ€ì…ê³¼ ë°”ê¾¸ë ¤ëŠ” íƒ€ì…ì´ ì¼ì¹˜í•´ì•¼í•¨
    - **DECODE** (ì„ íƒì„ í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜=switch)
        - select deptno **decode (deptno, 10, â€˜Aâ€™, 20, â€˜Bâ€™, â€˜DEFAULTâ€™)** from emp;
    - **CASE** (ì¡°ê±´ì— ë”°ë¼ ì„œë¡œ ë‹¤ë¥¸ ì²˜ë¦¬ê°€ ê°€ëŠ¥: ë²”ìœ„ ì„¤ì • ê°€ëŠ¥)
        - select case **deptno when** 10 **then** â€˜ACCOUNTINGâ€™
            
                                           **when** 20 **then** â€˜RESEARCHâ€™
            
                                     **when** 30 **then** â€˜SALESâ€™
            
                 **end** as dname
            
            from emp;
            
        - select case **when** **deptno**=10 **then** â€˜ACCOUNTINGâ€™
            
                              **when deptno=**20 **then** â€˜RESEARCHâ€™
            
                         **when deptno=**30 **then** â€˜SALESâ€™
            
                 **end** as dname
            
            from emp;
            
        - select case **when** salâ‰¥700 and salâ‰¤1200 **then** â€˜level1â€™
            
                              **when** salâ‰¥1201 and salâ‰¤1400 **then** â€˜level2â€™
            
                              **when** salâ‰¥1401 and salâ‰¤000 **then** â€˜level3â€™
            
                         **else** â€˜level4â€™
            
                 **end** as grade
            
            from emp;
            

# ë³µìˆ˜í–‰ í•¨ìˆ˜(ê·¸ë£¹í•¨ìˆ˜)

- ê·¸ë£¹ í•¨ìˆ˜ (**í•˜ë‚˜ ì´ìƒì˜ í–‰**ì„ **ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì–´** ì—°ì‚°í•˜ì—¬ í•˜ë‚˜ì˜ ê²°ê³¼ë¡œ ë‚˜íƒ€ëƒ„)
    - **SUM** : ê·¸ë£¹ì˜ ëˆ„ì  í•©ê³„ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
    - **AVG** : ê·¸ë£¹ì˜ í‰ê· ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
        - ì¹¼ëŸ¼ê°’ì´ **NULLì¸ ê²ƒì€ ì œì™¸**í•˜ê³  ê³„ì‚°
    - **COUNT** : ê·¸ë£¹ì˜ **ì´ ê°œìˆ˜**ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
        - select **count (comm)** from emp; â†’ ì‚¬ì›ë“¤ ì¤‘ ì»¤ë¯¸ì…˜ì„ ë°›ì€ ì‚¬ì›ì˜ ìˆ˜
        - select **count (*)** from emp; â†’ ì „ì²´ ì‚¬ì› ìˆ˜ (row ìˆ˜)
        - select **count (distinct job)** from emp; â†’ ì¤‘ë³µëœ ì§ì—… ì œê±°í•œ ê°œìˆ˜
    - **MAX** : ê·¸ë£¹ì˜ ìµœëŒ€ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
    - **MIN** : ê·¸ë£¹ì˜ ìµœì†Œê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
    - STDDEV : ê·¸ë£¹ì˜ í‘œì¤€í¸ì°¨ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
    - VARIANCE : ê·¸ë£¹ì˜ ë¶„ì‚°ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
- **GROUP BY** (ì»¬ëŸ¼ê°’ì„ ì–´ë–¤ ê¸°ì¤€ìœ¼ë¡œ ë³´ê³ ì í• ë•Œ)
    - ê·œì¹™
        - **select ì ˆì— ì‚¬ìš©ëœ ê·¸ë£¹í•¨ìˆ˜ì´ì™¸ì˜ ì»¬ëŸ¼** â†’ ë°˜ë“œì‹œ **GROUPBYì ˆì— ì‚¬ìš©**ë˜ì–´ì•¼í•¨
        - **GROUPBYì ˆ**ì—ëŠ” ë°˜ë“œì‹œ **ì»¬ëŸ¼ëª…ì´ ì‚¬ìš©**ë˜ì–´ì•¼í•¨
    - select avg(sal) from emp **group by deptno;**
    - select **to_char(hiredate,'yy')**, count(*)    
    *from emp*
    group by **to_char(hiredate,'yy')   â†’ í˜•ì‹ ë§ì¶°ì¤˜ì•¼ í•¨**
- **Having** (Groupì ˆì˜ ê²°ê³¼ë¥¼ ì œí•œ í• ë•Œ) VS where(selectì˜ ê²°ê³¼ë¥¼ ì œí•œ)
    - ê·œì¹™
        - **havingì ˆì— ì“°ì¸ ì»¬ëŸ¼** â†’ ë°˜ë“œì‹œ **selectì ˆì— ìˆì–´ì•¼í•¨**
    - select avg(sal) from emp group by deptno **having avg(sal) >2000; â†’ ì™œ where ì•ˆë¨? avg ìì²´ê°€ ê·¸ë£¹í•¨ìˆ˜ë¼ì„œ groupëœìƒíƒœì—ì„œ í‰ê· ì„ êµ¬í•˜ëŠ”ê²Œ ë§ëŠ”ê±°ë¼ì„œ**
    - select substr(hiredate,1,5), count(*)
    *from emp
    **where comm is not null    â†’ ì™œ having ì•ˆë¨?í•´ë‹¹ ì»¬ëŸ¼ì´ selectì ˆì— ìˆì–´ì•¼í•¨***
    group by substr(hiredate,1,5)
    - select deptno, count(*)
    *from emp
    group by deptno
    **having count(*) <5   â†’ count(*) ê°€  selectì ˆì— ìˆê³ , ê·¸ ì˜ë¯¸ê°€ groupbyì ˆì— ì˜í•´ ê·¸ ê·¸ë£¹ì˜ countë¡œ ì˜ë¯¸ê°€ ë°”ê»´ì ¸ ìˆìŒ***
    order by deptno
    - **select mgr, max(sal)  â†’ ì›ë˜ ê·¸ë£¹í•¨ìˆ˜ë¥¼ ê°™ì´ ëª»ì“°ì§€ë§Œ group byë¥¼ ì¨ì„œ ê°€ëŠ¥í•˜ê²Œ ë¨**
    from emp
    where mgr is not null
    group by mgr
    having max(sal) between 1000 and 2000
    order by mgr
- **ROLLUP** (í•©ê³„)
    - select deptno, count(*)
    from emp
    **group by rollup(deptno)  â†’ deptno ë³„ ì´í•©**
    - select deptno, job, count(*)
    from emp
    **group by rollup(deptno,job)  â†’ deptno, job ì§‘ê³„ + deptno ì§‘ê³„ + ì´í•©**
    order by deptno
- **CUBE** (ëª¨ë“  ì¡°í•©ì˜ í•©ê³„)
    - select deptno, job, count(*)
    from emp
    **group by cube(deptno,job)  â†’ deptno, job ì§‘ê³„ + deptno ì§‘ê³„ + job ì§‘ê³„ + ì´í•©**
    order by deptno
- **LISTAGG..WITHIN GROUP** (ê·¸ë£¹í•‘ ì»¬ëŸ¼ì´ ì•„ë‹Œ ë‹¤ë¥¸ ì»¬ëŸ¼ ê°’ì„ ëª¨ë‘ ë‚˜ì—´-GROUPBY ë³´ì™„)
    - select deptno,
    **listagg(ename,',') within group(order by ename)**
    from emp
    group by deptno

# JOIN

- JOIN (í•œê°œ ì´ìƒì˜ í…Œì´ë¸”ì—ì„œ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ê²ƒ)
    - **Equi Join** (ë™ì¼ ì¹¼ëŸ¼ì„ ê¸°ì¤€)
        - select E.ename, D.dname, E.deptno **from emp E, dept D where E. deptno = D. deptno and ename = â€˜SCOTTâ€™;**
    - **Non-Equi Join**  (ë™ì¼ ì¹¼ëŸ¼ ì—†ì´ ë‹¤ë¥¸ ì¡°ê±´ì„ ê¸°ì¤€)
        - select grade,
        **listagg(ename,',') within group(order by ename) "LISTAGG"
        from emp, salgrade**
        **where sal between losal and hisal**
        group by grade
    - **Outer Join** (ì¡°ì¸ ì¡°ê±´ì— ë§Œì¡±í•˜ì§€ ì•ŠëŠ” í–‰ë„ ë‚˜íƒ€ë‚¸ë‹¤)
    - **Self Joi**n (í•œ í…Œì´ë¸” ë‚´ì—ì„œ ì¡°ì¸)

<aside>
ğŸŒ â€œâ€ VS â€˜â€™

- â€œâ€ : ì»¬ëŸ¼ëª… ë°”ê¿€ë•Œ ( as â€œMANAGERâ€) / as MANAGER ì´ë ‡ê²Œ ì¨ë„ ë¨
- â€˜â€™ : ë¬¸ì ì‚½ì…
</aside>

<aside>
ğŸŒ COL DEPTNO FOR 99999 ì“´ ì´ìœ 

- dept ë²ˆí˜¸ê°€ ì•ˆë– ì„œ
</aside>
